<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>My Profile - UCCD</title>
  <meta name="description" content="UCCD Student Profile - Manage your account and personal information" />
  <meta name="keywords" content="UCCD, student, profile, account" />

  <!-- Favicons -->
  <link rel="shortcut icon" href="images/uccd-logo.png" type="image/x-icon" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
    rel="stylesheet" />

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
  <!-- <link href="assets/vendor/aos/aos.css" rel="stylesheet" /> -->
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />
  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet" />
  <!-- RTL Support for Arabic -->
  <link href="assets/css/rtl.css" rel="stylesheet" />
  <!-- Dark Mode Support -->
  <link href="assets/css/dark-mode.css" rel="stylesheet" />
  <!-- Custom styles for profile page -->
  <style>
    :root {
      /* Color palette */
      --primary: #4361ee;
      --primary-light: #eef2ff;
      --secondary: #3f37c9;
      --accent: #ffd400;
      --dark: #2a3546;
      --gray: #6a6a6a;
      --light-gray: #f8f9fa;
      --success: #28a745;
      --danger: #dc3545;
      --warning: #fd7e14;

      /* Theme switcher colors */
      --accent-color: #ffd400;
      --contrast-color: #2a3546;
    }

    /* Language and Theme Switchers */
    .switchers-container {
      display: flex;
      gap: 25px;
      margin-right: 20px;
    }

    .rtl .switchers-container {
      margin-left: 20px;
      margin-right: 0;
    }

    .switcher-btn {
      background-color: var(--accent-color);
      color: var(--contrast-color);
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .switcher-btn:hover {
      background-color: color-mix(in srgb, var(--accent-color), transparent 15%);
    }

    .switcher-btn i {
      font-size: 16px;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: #f5f7fb;
    }

    /* Dark mode variables override */
    body.dark-mode {
      --primary-light: rgba(67, 97, 238, 0.2);
      --dark: #ffffff;
      --gray: #e0e0e0;
      --light-gray: #333;
      background-color: #121212;
    }

    .profile-container {
      padding: 2rem 0;
    }

    /* Profile Header */
    .profile-header {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      padding: 2rem;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(0, 0, 0, 0.05);
      display: flex;
      align-items: center;
    }

    .profile-avatar {
      position: relative;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin-right: 2rem;
    }

    .profile-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      border: 4px solid var(--primary-light);
    }

    .avatar-edit {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 36px;
      height: 36px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: 3px solid white;
    }

    .profile-info h2 {
      color: var(--dark);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .profile-info p {
      color: var(--gray);
      margin-bottom: 0.75rem;
    }

    .profile-stats {
      display: flex;
      margin-top: 1rem;
    }

    .stat-item {
      margin-right: 1.5rem;
    }

    .stat-item h4 {
      color: var(--primary);
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .stat-item p {
      color: var(--gray);
      font-size: 0.85rem;
      margin: 0;
    }

    /* Profile Navigation */
    .profile-nav {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      padding: 1rem;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .profile-nav .nav-link {
      color: var(--gray);
      padding: 0.75rem 1rem;
      margin-bottom: 0.5rem;
      border-radius: 8px;
      font-weight: 500;
      display: flex;
      align-items: center;
      transition: all 0.2s ease;
    }

    .profile-nav .nav-link i {
      margin-right: 0.75rem;
      font-size: 1.1rem;
      width: 20px;
      text-align: center;
    }

    .profile-nav .nav-link.active {
      background: var(--primary-light);
      color: var(--primary);
    }

    .profile-nav .nav-link:hover:not(.active) {
      background: var(--light-gray);
      color: var(--dark);
    }

    /* Profile Content */
    .profile-section {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .section-header h4 {
      color: var(--dark);
      font-weight: 600;
      margin: 0;
      display: flex;
      align-items: center;
    }

    .section-header h4 i {
      margin-right: 0.75rem;
      color: var(--primary);
    }

    /* Profile Details */
    .profile-details {
      width: 100%;
    }

    .profile-details tr {
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .profile-details tr:last-child {
      border-bottom: none;
    }

    .profile-details td {
      padding: 1rem 0;
      vertical-align: top;
    }

    .profile-details td:first-child {
      width: 30%;
      font-weight: 500;
      color: var(--dark);
    }

    .profile-details td:last-child {
      color: var(--gray);
    }

    .status-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      display: inline-block;
    }

    .status-active {
      background: rgba(40, 167, 69, 0.1);
      color: var(--success);
    }

    /* Phone Number Link Style */
    .profile-details a {
      color: var(--primary);
      transition: color 0.2s ease;
      text-decoration: none;
    }

    .profile-details a:hover {
      color: var(--secondary);
      text-decoration: underline;
    }

    /* Edit Button */
    .edit-profile-btn {
      background: var(--primary);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      transition: all 0.3s ease;
      border: none;
    }

    .edit-profile-btn:hover {
      background: var(--secondary);
      color: white;
      transform: translateY(-2px);
    }

    .edit-profile-btn i {
      margin-right: 0.5rem;
    }

    /* Social Links */
    .social-links {
      display: flex;
      margin-top: 1rem;
    }

    .social-links a {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--light-gray);
      color: var(--gray);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 0.75rem;
      transition: all 0.3s ease;
    }

    .social-links a:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-3px);
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .profile-header {
        flex-direction: column;
        text-align: center;
      }

      .profile-avatar {
        margin-right: 0;
        margin-bottom: 1.5rem;
      }

      .profile-stats {
        justify-content: center;
      }

      .profile-details td:first-child {
        width: 40%;
      }
    }

    /* Change Password Modal Styles */
    .modal-content {
      border-radius: 12px;
      border: none;
    }

    .modal-header {
      background: var(--primary-light);
      border-radius: 12px 12px 0 0;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .modal-title {
      color: var(--primary);
      font-weight: 600;
    }

    .modal-body {
      padding: 2rem;
    }

    .modal-footer {
      border-top: 1px solid rgba(0, 0, 0, 0.05);
      padding: 1rem 2rem;
    }

    .form-control:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 0.2rem rgba(67, 97, 238, 0.25);
    }

    .is-invalid {
      border-color: var(--danger) !important;
    }

    .invalid-feedback {
      color: var(--danger);
      font-size: 0.875rem;
      margin-top: 0.25rem;
    }

    /* Dark mode support for modal */
    body.dark-mode .modal-content {
      background-color: var(--light-gray);
      color: var(--dark);
    }

    body.dark-mode .modal-header {
      background: rgba(67, 97, 238, 0.1);
    }

    body.dark-mode .form-control {
      background-color: #444;
      border-color: #555;
      color: var(--dark);
    }

    body.dark-mode .form-control:focus {
      background-color: #444;
      border-color: var(--primary);
      color: var(--dark);
    }

    body.dark-mode .form-text {
      color: #ccc;
    }
  </style>
</head>

<body class="index-page">
  <!-- ======= Header ======= -->
  <header id="header" class="header d-flex align-items-center sticky-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">
      <a href="index.html" class="logo d-flex align-items-center me-auto">
        <img src="images/uccd-logo.png" alt="UCCD Logo" class="img-fluid">
        <h1 class="sitename">UCCD</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="courses.html">Courses</a></li>
          <li><a href="trainers.html">Trainers</a></li>
          <li><a href="trainers.html">Trainers</a></li>
          <li><a href="events.html">Events</a></li>
          <li><a href="dashboard.html" class="active">Dashboard</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <div class="switchers-container me-3">
        <button id="language-toggle" class="switcher-btn" title="Switch to Arabic">
          العربية
        </button>
        <button id="theme-toggle" class="switcher-btn" title="Switch to Dark Mode">
          <i class="bi bi-moon"></i>
        </button>
      </div>

      <div class="header-actions d-flex align-items-center">
        <a class="btn-getstarted" href="#!" data-bs-toggle="modal" data-bs-target="#modal1">
          <i class="bi bi-box-arrow-in-right me-1"></i> Sign out
        </a>
      </div>
    </div>
  </header><!-- End Header -->



  <!-- ======= Profile Section ======= -->
  <section id="profile" class="profile">
    <div class="container profile-container" data-aos="fade-up">
      <div class="row">
        <div class="col-lg-4">
          <!-- Profile Navigation -->
          <div class="profile-nav">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="dashboard.html"><i class="bi bi-speedometer2"></i> <span
                    data-key="myDashboard">Dashboard</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="db-profile.html"><i class="bi bi-person"></i> <span
                    data-key="myProfile">My Profile</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="db-courses.html"><i class="bi bi-journal-bookmark"></i> <span
                    data-key="myCourses">My Courses</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="db-materials.html"><i class="bi bi-folder2-open"></i> <span
                    data-key="courseMaterials">Course Materials</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-danger" href="#"><i class="bi bi-box-arrow-right"></i> <span
                    data-key="logout">Logout</span></a>
              </li>
            </ul>
          </div>
        </div>

        <div class="col-lg-8">
          <!-- Profile Header -->
          <div class="profile-header">
            <div class="profile-avatar">
              <img src="images/user.jpg" alt="Emily Jessica">
              <div class="avatar-edit" onclick="triggerPhotoUpload()" title="Change photo">
                <i class="bi bi-camera"></i>
              </div>
              <input type="file" id="profilePhotoInput" accept="image/jpeg,image/jpg,image/png,image/gif"
                style="display: none;">
            </div>
            <div class="profile-info">
              <h2>Emily Jessica</h2>
              <p>Student ID: ST17241</p>
              <div class="profile-stats">
                <div class="stat-item">
                  <h4>12</h4>
                  <p>Courses</p>
                </div>
                <div class="stat-item">
                  <h4>3</h4>
                  <p>Certificates</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Personal Information Section -->
          <div class="profile-section">
            <div class="section-header">
              <h4><i class="bi bi-person-badge"></i> Personal Information</h4>
            </div>

            <table class="profile-details">
              <tbody>
                <tr>
                  <td>Full Name</td>
                  <td>Emily Jessica</td>
                </tr>
                <tr>
                  <td>Email Address</td>
                  <td>emily.jessica@example.com</td>
                </tr>
                <tr>
                  <td>Phone Number</td>
                  <td><a href="tel:+12345678901" class="text-decoration-none" dir="ltr">+1 (234) 567-8901</a></td>
                </tr>
                <tr>
                  <td>Gender</td>
                  <td>Male</td>
                </tr>
                <tr>
                  <td>Account Status</td>
                  <td><span class="status-badge status-active">Active</span></td>
                </tr>
              </tbody>
            </table>
          </div>


          <!-- Account Security Section -->
          <div class="profile-section">
            <div class="section-header">
              <h4><i class="bi bi-shield-lock"></i> Account Security</h4>
            </div>
            <div class="alert alert-warning" role="alert">
              <i class="bi bi-exclamation-triangle me-2"></i> Your password hasn't been changed in 120 days. Consider
              updating it for better security.
            </div>
            <table class="profile-details">
              <tbody>
                <tr>
                  <td>Password</td>
                  <td>Last changed 4 months ago</td>
                </tr>
              </tbody>
            </table>
            <div class="mt-3">
              <button class="btn btn-sm btn-outline-primary me-2" data-bs-toggle="modal"
                data-bs-target="#changePasswordModal">Change Password</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section><!-- End Profile Section -->


  </main><!-- End #main -->
  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer position-relative light-background">
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">UCCD</span>
          </a>
          <div class="footer-contact pt-3">
            <p>A108 Adam Street</p>
            <p>New York, NY 535022</p>
            <p class="mt-3">
              <strong>Phone:</strong> <span>+1 5589 55488 55</span>
            </p>
            <p><strong>Email:</strong> <span>info@example.com</span></p>
          </div>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">Services</a></li>
            <li><a href="#">Terms of service</a></li>
            <li><a href="#">Privacy policy</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><a href="#">Web Design</a></li>
            <li><a href="#">Web Development</a></li>
            <li><a href="#">Product Management</a></li>
            <li><a href="#">Marketing</a></li>
            <li><a href="#">Graphic Design</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-12 footer-newsletter">
          <h4>Our Newsletter</h4>
          <p>
            Subscribe to our newsletter and receive the latest news about our
            products and services!
          </p>
          <form action="forms/newsletter.php" method="post" class="php-email-form">
            <div class="newsletter-form">
              <input type="email" name="email" /><input type="submit" value="Subscribe" />
            </div>
            <div class="loading">Loading</div>
            <div class="error-message"></div>
            <div class="sent-message">
              Your subscription request has been sent. Thank you!
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>
        © <span>Copyright</span> <strong class="px-1 sitename">UCCD</strong>
        <span>All Rights Reserved</span>
      </p>
    </div>
  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>
  <!-- Change Password Modal -->
  <div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="changePasswordModalLabel">
            <i class="bi bi-shield-lock me-2"></i>
            Change Password
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="changePasswordForm">
            <div class="mb-3">
              <label for="currentPassword" class="form-label">Current Password</label>
              <input type="password" class="form-control" id="currentPassword" required>
              <div class="invalid-feedback" id="currentPasswordError"></div>
            </div>
            <div class="mb-3">
              <label for="newPassword" class="form-label">New Password</label>
              <input type="password" class="form-control" id="newPassword" required minlength="8">
              <div class="form-text">Password must be at least 8 characters long.</div>
              <div class="invalid-feedback" id="newPasswordError"></div>
            </div>
            <div class="mb-3">
              <label for="confirmPassword" class="form-label">Confirm New Password</label>
              <input type="password" class="form-control" id="confirmPassword" required>
              <div class="invalid-feedback" id="confirmPasswordError"></div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="savePasswordBtn">
            <i class="bi bi-check-circle me-2"></i>
            Change Password
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <!-- Main JS File -->
  <script src="js/main.js"></script> <!-- Translations -->
  <script src="js/translations.js"></script>
  <!-- Language and Theme Switcher -->
  <script src="js/language-theme-switcher.js"></script>
  <!-- Profile-specific translations -->
  <script src="js/profile-translations.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Initialize and apply profile-specific translations
      const currentLang = localStorage.getItem('language') || 'en';
      translateProfileElements(currentLang);

      // Change Password functionality
      const changePasswordForm = document.getElementById('changePasswordForm');
      const savePasswordBtn = document.getElementById('savePasswordBtn');
      const modal = new bootstrap.Modal(document.getElementById('changePasswordModal'));

      savePasswordBtn.addEventListener('click', function () {
        const currentPassword = document.getElementById('currentPassword').value;
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;

        // Clear previous errors
        clearErrors();

        // Validate form
        if (validatePasswordForm(currentPassword, newPassword, confirmPassword)) {
          // Call change password function
          changePassword(currentPassword, newPassword, modal);
        }
      }); function validatePasswordForm(currentPassword, newPassword, confirmPassword) {
        let isValid = true;
        const currentLang = localStorage.getItem('language') || 'en';

        // Check if current password is provided
        if (!currentPassword) {
          showError('currentPasswordError', translations[currentLang].currentPasswordIncorrect);
          isValid = false;
        }

        // Check new password length
        if (newPassword.length < 8) {
          showError('newPasswordError', translations[currentLang].passwordTooShort);
          isValid = false;
        }

        // Check if passwords match
        if (newPassword !== confirmPassword) {
          showError('confirmPasswordError', translations[currentLang].passwordMismatch);
          isValid = false;
        }        // Check if new password is different from current
        if (currentPassword === newPassword) {
          showError('newPasswordError', translations[currentLang].newPasswordDifferent);
          isValid = false;
        }

        return isValid;
      }

      function showError(elementId, message) {
        const errorElement = document.getElementById(elementId);
        const inputElement = errorElement.previousElementSibling;

        errorElement.textContent = message;
        inputElement.classList.add('is-invalid');
      }

      function clearErrors() {
        const errorElements = document.querySelectorAll('.invalid-feedback');
        const inputElements = document.querySelectorAll('#changePasswordForm .form-control');

        errorElements.forEach(el => el.textContent = '');
        inputElements.forEach(el => el.classList.remove('is-invalid'));
      } function changePassword(currentPassword, newPassword, modal) {
        const currentLang = localStorage.getItem('language') || 'en';

        // Show loading state
        savePasswordBtn.disabled = true;
        savePasswordBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status"></span>' +
          (currentLang === 'ar' ? 'جاري التغيير...' : 'Changing...');

        // Simulate processing time
        setTimeout(() => {
          // Success feedback
          alert(translations[currentLang].passwordChanged);
          changePasswordForm.reset();
          modal.hide();

          // Update the last changed date in the UI
          updatePasswordDate();

          // Reset button state
          savePasswordBtn.disabled = false;
          const icon = '<i class="bi bi-check-circle me-2"></i>';
          savePasswordBtn.innerHTML = icon + translations[currentLang].changePassword;
        }, 1500); // 1.5 second delay to simulate processing
      } function updatePasswordDate() {
        const currentLang = localStorage.getItem('language') || 'en';
        // Find the password row and update the date
        const rows = document.querySelectorAll('.profile-details tr');
        rows.forEach(row => {
          const firstCell = row.querySelector('td:first-child');
          if (firstCell && (firstCell.textContent.trim() === 'Password' || firstCell.textContent.trim() === 'كلمة المرور')) {
            const secondCell = row.querySelector('td:last-child');
            if (secondCell) {
              secondCell.textContent = translations[currentLang].lastChangedNow;
            }
          }
        });
      }// Clear form when modal is hidden
      document.getElementById('changePasswordModal').addEventListener('hidden.bs.modal', function () {
        changePasswordForm.reset();
        clearErrors();
      });      // Translate modal when it's shown
      document.getElementById('changePasswordModal').addEventListener('shown.bs.modal', function () {
        const currentLang = localStorage.getItem('language') || 'en';
        translateChangePasswordModal(currentLang);
      });

      // Simple Change Photo functionality
      window.triggerPhotoUpload = function () {
        document.getElementById('profilePhotoInput').click();
      };

      // Handle photo file selection
      document.getElementById('profilePhotoInput').addEventListener('change', function (e) {
        const file = e.target.files[0];
        const currentLang = localStorage.getItem('language') || 'en';

        if (file) {
          // Validate file type
          const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];
          if (!allowedTypes.includes(file.type)) {
            alert(translations[currentLang].invalidFileType);
            return;
          }

          // Validate file size (5MB limit)
          const maxSize = 5 * 1024 * 1024; // 5MB in bytes
          if (file.size > maxSize) {
            alert(translations[currentLang].fileTooLarge);
            return;
          }

          // Show confirmation before uploading
          if (confirm(currentLang === 'ar' ? 'هل تريد تحديث صورة الملف الشخصي؟' : 'Do you want to update your profile photo?')) {
            // Create file reader to preview the image
            const reader = new FileReader();
            reader.onload = function (e) {
              // Update profile image immediately
              const profileAvatar = document.querySelector('.profile-avatar img');
              profileAvatar.src = e.target.result;

              // Show success message
              alert(translations[currentLang].photoUpdated);
            };
            reader.readAsDataURL(file);
          }

          // Reset the file input
          e.target.value = '';
        }
      });
    });
  </script>
</body>

</html>